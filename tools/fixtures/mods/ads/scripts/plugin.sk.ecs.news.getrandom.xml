<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>plugin.sk.ecs.news.getrandom</name>
<version>250</version>
<engineversion>43</engineversion>
<description>ECS - Newsfeed : Get a random news (as array)</description>
<arguments>
<argument index="1" name="plugin.id" type="Var/String" desc="Plugin ID" />
</arguments>
<sourcetext>
<line linenr="001" indent=""><comment><text>*&#160;</text><var>===========================================</var></comment></line>
<line linenr="002" indent=""><comment><text>*&#160;</text><var>Extended&#160;Communication&#160;System&#160;2.5</var></comment></line>
<line linenr="003" indent=""><comment><text>*&#160;</text><var>===========================================</var></comment></line>
<line linenr="004" indent=""><comment><text>*&#160;</text><var>Use&#160;this&#160;function&#160;to&#160;get&#160;a&#160;random&#160;message&#160;from&#160;the&#160;list</var></comment></line>
<line linenr="005" indent=""><comment><text>*&#160;</text><var>===========================================</var></comment></line>
<line linenr="006" indent=""><comment><text>*&#160;</text><var>Parameter&#160;:</var></comment></line>
<line linenr="007" indent=""><comment><text>*&#160;</text><var>-&#160;plugin.id&#160;:&#160;The&#160;global&#160;variable&#160;you&#160;used&#160;to&#160;register&#160;(string)</var></comment></line>
<line linenr="008" indent=""><comment><text>*&#160;</text><var>===========================================</var></comment></line>
<line linenr="009" indent=""><comment><text>*&#160;</text><var>Output&#160;:&#160;Array</var></comment></line>
<line linenr="010" indent=""><comment><text>*&#160;</text><var>-&#160;0&#160;:&#160;Title</var></comment></line>
<line linenr="011" indent=""><comment><text>*&#160;</text><var>-&#160;1&#160;:&#160;Main&#160;text&#160;of&#160;the&#160;news</var></comment></line>
<line linenr="012" indent=""><comment><text>*&#160;</text><var>-&#160;2&#160;:&#160;Who&#160;is&#160;sending&#160;this&#160;message&#160;(optional)</var></comment></line>
<line linenr="013" indent=""><comment><text>*&#160;</text><var>-&#160;3&#160;:&#160;Date&#160;of&#160;publication</var></comment></line>
<line linenr="014" indent=""><comment><text>*&#160;</text><var>===========================================</var></comment></line>
<line linenr="015" indent=""></line>
<line linenr="016" indent=""><var>$ecs.setup&#160;=&#160;</var><text>get&#160;global&#160;variable:&#160;name=</text><var>'plugin.ecs.setup'</var></line>
<line linenr="017" indent=""><var>$ecs.installed&#160;=&#160;</var><var>$ecs.setup</var><text>[</text><var>1</var><text>]</text></line>
<line linenr="018" indent=""><var>$ecs.configs&#160;=&#160;</var><var>$ecs.setup</var><text>[</text><var>2</var><text>]</text></line>
<line linenr="019" indent=""><var>$ecs.news&#160;=&#160;</var><var>$ecs.setup</var><text>[</text><var>5</var><text>]</text></line>
<line linenr="020" indent=""></line>
<line linenr="021" indent=""><var>skip&#160;if&#160;</var><text>&#160;find&#160;</text><var>$plugin.id</var><text>&#160;in&#160;array:&#160;</text><var>$ecs.installed</var></line>
<line linenr="022" indent="&#160;"><text>return&#160;</text><var>null</var></line>
<line linenr="023" indent=""><var>$index&#160;=&#160;</var><text>&#160;get&#160;index&#160;of&#160;</text><var>$plugin.id</var><text>&#160;in&#160;array&#160;</text><var>$ecs.installed</var><text>&#160;offset=</text><var>-1</var><text>&#160;+&#160;1</text></line>
<line linenr="024" indent=""></line>
<line linenr="025" indent=""><var>$my.config&#160;=&#160;</var><var>$ecs.configs</var><text>[</text><var>$index</var><text>]</text></line>
<line linenr="026" indent=""><var>$max.news.count&#160;=&#160;</var><var>$my.config</var><text>[</text><var>5</var><text>]</text></line>
<line linenr="027" indent=""><var>$news.list&#160;=&#160;</var><var>$ecs.news</var><text>[</text><var>$index</var><text>]</text></line>
<line linenr="028" indent=""></line>
<line linenr="029" indent=""><var>$mycount&#160;=&#160;</var><text>&#160;size&#160;of&#160;array&#160;</text><var>$news.list</var></line>
<line linenr="030" indent=""><var>skip&#160;if&#160;not&#160;</var><var>$mycount</var><text>&#160;</text><var>==</var><text>&#160;</text><var>0</var></line>
<line linenr="031" indent="&#160;"><text>return&#160;</text><var>null</var></line>
<line linenr="032" indent=""></line>
<line linenr="033" indent=""><var>$mycount&#160;=&#160;</var><text>&#160;=&#160;random&#160;value&#160;from&#160;0&#160;to&#160;</text><var>$mycount</var><text>&#160;-&#160;1</text></line>
<line linenr="034" indent=""><var>$result&#160;=&#160;</var><var>$news.list</var><text>[</text><var>$mycount</var><text>]</text></line>
<line linenr="035" indent=""></line>
<line linenr="036" indent=""><text>return&#160;</text><var>$result</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="plugin.sk.ecs.news.getrandom"/>
  <sval type="int" val="43"/>
  <sval type="string" val="ECS - Newsfeed : Get a random news (as array)"/>
  <sval type="int" val="250"/>
  <sval type="int" val="0"/>
  <sval type="array" size="11">
    <sval type="string" val="plugin.id"/>
    <sval type="string" val="ecs.setup"/>
    <sval type="string" val="ecs.installed"/>
    <sval type="string" val="ecs.configs"/>
    <sval type="string" val="ecs.news"/>
    <sval type="string" val="index"/>
    <sval type="string" val="my.config"/>
    <sval type="string" val="max.news.count"/>
    <sval type="string" val="news.list"/>
    <sval type="string" val="mycount"/>
    <sval type="string" val="result"/>
  </sval>
  <sval type="array" size="16">
    <sval type="array" size="4">
      <sval type="int" val="158"/>
      <sval type="int" val="5"/>
      <sval type="string" val="plugin.ecs.setup"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1406"/>
      <sval type="int" val="-536869369"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="1083"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610609400"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="106"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
  </sval>
  <sval type="array" size="1">
    <sval type="array" size="2">
      <sval type="int" val="11"/>
      <sval type="string" val="Plugin ID"/>
    </sval>
  </sval>
  <sval type="array" size="20">
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="==========================================="/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Extended Communication System 2.5"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="==========================================="/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Use this function to get a random message from the list"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="==========================================="/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Parameter :"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- plugin.id : The global variable you used to register (string)"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="==========================================="/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Output : Array"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- 0 : Title"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- 1 : Main text of the news"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- 2 : Who is sending this message (optional)"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- 3 : Date of publication"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="==========================================="/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="0"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="4"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="7"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="13"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="15"/>
      <sval type="int" val="2"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
</script>
