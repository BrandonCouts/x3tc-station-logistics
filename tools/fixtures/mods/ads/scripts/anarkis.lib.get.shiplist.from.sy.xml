<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>anarkis.lib.get.shiplist.from.sy</name>
<version>100</version>
<engineversion>42</engineversion>
<description>Lib - Retrieve ship list from a SY</description>
<arguments>
<argument index="1" name="sy" type="Var/Station" desc="shipyard" />
<argument index="2" name="ship.class" type="Var/Class" desc="ship.class" />
</arguments>
<sourcetext>
<line linenr="001" indent=""><comment><text>*&#160;</text><var>Fix&#160;1&#160;:&#160;Performance&#160;increased,&#160;one&#160;less&#160;loop</var></comment></line>
<line linenr="002" indent=""></line>
<line linenr="003" indent=""><var>$trade.array&#160;=&#160;</var><var>$sy&#160;-&gt;</var><text>&#160;get&#160;tradeable&#160;ware&#160;array&#160;from&#160;station</text></line>
<line linenr="004" indent=""><var>$cnt&#160;=&#160;</var><text>&#160;size&#160;of&#160;array&#160;</text><var>$trade.array</var></line>
<line linenr="005" indent=""><var>while&#160;</var><var>$cnt</var></line>
<line linenr="006" indent="&#160;"><text>dec&#160;</text><var>$cnt&#160;=&#160;</var></line>
<line linenr="007" indent="&#160;"><var>$test.ware&#160;=&#160;</var><var>$trade.array</var><text>[</text><var>$cnt</var><text>]</text></line>
<line linenr="008" indent=""><comment><text>*&#160;</text><var>-&#160;Remove&#160;Stations</var></comment></line>
<line linenr="009" indent="&#160;"><var>$transport.class&#160;=&#160;</var><text>get&#160;transport&#160;class&#160;of&#160;ware&#160;</text><var>$test.ware</var></line>
<line linenr="010" indent="&#160;"><var>if&#160;</var><var>$transport.class</var><text>&#160;</text><var>==</var><text>&#160;</text><var>Station&#160;Containers&#160;ST</var></line>
<line linenr="011" indent="&#160;&#160;"><text>remove&#160;element&#160;from&#160;array&#160;</text><var>$trade.array</var><text>&#160;at&#160;index&#160;</text><var>$cnt</var></line>
<line linenr="012" indent="&#160;&#160;"><text>continue</text></line>
<line linenr="013" indent="&#160;"><text>end</text></line>
<line linenr="014" indent=""><comment><text>*&#160;</text><var>-&#160;Quick&#160;and&#160;Dirty&#160;method&#160;to&#160;check&#160;ship&#160;class</var></comment></line>
<line linenr="015" indent="&#160;"><var>$ship&#160;=&#160;</var><text>&#160;create&#160;ship:&#160;type=</text><var>$test.ware</var><text>&#160;owner=</text><var>Friendly&#160;Race</var><text>&#160;addto=</text><var>$sy</var><text>&#160;x=</text><var>0</var><text>&#160;y=</text><var>0</var><text>&#160;z=</text><var>0</var></line>
<line linenr="016" indent="&#160;"><var>skip&#160;if&#160;</var><var>$ship&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>$ship.class</var></line>
<line linenr="017" indent="&#160;&#160;"><text>remove&#160;element&#160;from&#160;array&#160;</text><var>$trade.array</var><text>&#160;at&#160;index&#160;</text><var>$cnt</var></line>
<line linenr="018" indent="&#160;"><var>$ship&#160;-&gt;</var><text>&#160;destruct:&#160;show&#160;no&#160;explosion=</text><var>[TRUE]</var></line>
<line linenr="019" indent=""><text>end</text></line>
<line linenr="020" indent=""><text>return&#160;</text><var>$trade.array</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="anarkis.lib.get.shiplist.from.sy"/>
  <sval type="int" val="42"/>
  <sval type="string" val="Lib - Retrieve ship list from a SY"/>
  <sval type="int" val="100"/>
  <sval type="int" val="0"/>
  <sval type="array" size="7">
    <sval type="string" val="sy"/>
    <sval type="string" val="ship.class"/>
    <sval type="string" val="trade.array"/>
    <sval type="string" val="cnt"/>
    <sval type="string" val="test.ware"/>
    <sval type="string" val="transport.class"/>
    <sval type="string" val="ship"/>
  </sval>
  <sval type="array" size="15">
    <sval type="array" size="4">
      <sval type="int" val="1041"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610609143"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="605"/>
      <sval type="int" val="5"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610610429"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="13"/>
      <sval type="int" val="5"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="136"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="14">
      <sval type="int" val="739"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="-536867833"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="136"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="765"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
    </sval>
  </sval>
  <sval type="array" size="2">
    <sval type="array" size="2">
      <sval type="int" val="12"/>
      <sval type="string" val="shipyard"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="23"/>
      <sval type="string" val="ship.class"/>
    </sval>
  </sval>
  <sval type="array" size="7">
    <sval type="array" size="3">
      <sval type="int" val="0"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Fix 1 : Performance increased, one less loop"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="0"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- Remove Stations"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="string" val="- Quick and Dirty method to check ship class"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="14"/>
      <sval type="int" val="4"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
</script>
